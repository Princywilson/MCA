-- 1. DATABASE SCHEMA CREATION (DDL)

-- Create CUSTOMER table
CREATE TABLE CUSTOMER (
    CID INT PRIMARY KEY,
    CNAME VARCHAR(50) NOT NULL
);

-- Create BRANCH table
CREATE TABLE BRANCH (
    BCODE VARCHAR(10) PRIMARY KEY,
    BNAME VARCHAR(50) NOT NULL
);

-- Create ACCOUNT table
CREATE TABLE ACCOUNT (
    ANO VARCHAR(15) PRIMARY KEY,
    ATYPE CHAR(1) NOT NULL,
    BALANCE DECIMAL(12,2) NOT NULL,
    CID INT NOT NULL,
    BCODE VARCHAR(10) NOT NULL,
    CONSTRAINT CHK_ATYPE CHECK (ATYPE IN ('S', 'C')),
    CONSTRAINT FK_ACCOUNT_CUSTOMER FOREIGN KEY (CID) REFERENCES CUSTOMER(CID),
    CONSTRAINT FK_ACCOUNT_BRANCH FOREIGN KEY (BCODE) REFERENCES BRANCH(BCODE)
);

-- Create TRANSACTION table
CREATE TABLE TRANSACTIONS (
    TID INT PRIMARY KEY,
    ANO VARCHAR(15) NOT NULL,
    TTYPE CHAR(1) NOT NULL,
    TDATE DATE NOT NULL,
    TAMOUNT DECIMAL(12,2) NOT NULL,
    CONSTRAINT CHK_TTYPE CHECK (TTYPE IN ('D', 'W')),
    CONSTRAINT FK_TRANSACTION_ACCOUNT FOREIGN KEY (ANO) REFERENCES ACCOUNT(ANO)
);

-- 2. INSERT SAMPLE DATA

-- Insert data into CUSTOMER table
INSERT INTO CUSTOMER (CID, CNAME) VALUES 
(1, 'John Smith'),
(2, 'Mary Johnson'),
(3, 'Robert Brown'),
(4, 'Patricia Davis'),
(5, 'Michael Wilson');

-- Insert data into BRANCH table
INSERT INTO BRANCH (BCODE, BNAME) VALUES 
('B001', 'Main Street Branch'),
('B002', 'Downtown Branch'),
('B003', 'North Hills Branch'),
('B004', 'University Branch');

-- Insert data into ACCOUNT table
INSERT INTO ACCOUNT (ANO, ATYPE, BALANCE, CID, BCODE) VALUES 
('A001', 'S', 12000.00, 1, 'B001'),
('A002', 'C', 25000.00, 1, 'B001'),
('A003', 'S', 15000.00, 2, 'B002'),
('A004', 'C', 30000.00, 2, 'B003'),
('A005', 'S', 9000.00, 3, 'B002'),
('A006', 'C', 18000.00, 3, 'B002'),
('A007', 'S', 22000.00, 4, 'B003'),
('A008', 'S', 8000.00, 5, 'B004');

-- Insert data into TRANSACTION table
INSERT INTO TRANSACTIONS (TID, ANO, TTYPE, TDATE, TAMOUNT) VALUES 
(1, 'A001', 'D', '2023-01-15', 5000.00),
(2, 'A002', 'W', '2023-01-15', 3000.00),
(3, 'A003', 'D', '2023-01-16', 2000.00),
(4, 'A001', 'W', '2023-01-17', 1000.00),
(5, 'A004', 'D', '2023-01-17', 10000.00),
(6, 'A005', 'W', '2023-01-17', 1500.00),
(7, 'A001', 'D', '2023-01-18', 3000.00),
(8, 'A006', 'W', '2023-01-18', 2000.00),
(9, 'A007', 'D', '2023-01-18', 4000.00),
(10, 'A001', 'D', '2023-01-18', 2000.00);

    
